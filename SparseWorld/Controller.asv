%%
clear;

%%
r = 1;
L = 1;
I = 1;
a = 0.1;

A = [-a,0; 0,-a];
B = [r/I/L, -r/I/L; r/2/I, r/2/I];

sys_c = ss(A,B,eye(2),zeros(2));
sys_d = c2d(sys_c,0.01);

%%
Q = eye(2);
R = eye(2);

[K,S,e] = lqr(sys_d,Q,R);

%%
eig(sys_d.A - sys_d.B*K)

%%
t = [0:0.01:10];
y = lsim(sys_d,zeros(length(t),2),t,[1,1]);

%%
figure()
subplot(2,1,1)
plot(t,y(:,1))
subplot(2,1,2)
plot(t,y(:,2))




